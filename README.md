# Firepad

[![Build Status](https://travis-ci.org/firebase/firepad.svg?branch=master)](https://travis-ci.org/firebase/firepad)
[![Coverage Status](https://img.shields.io/coveralls/firebase/firepad.svg?branch=master&style=flat)](https://coveralls.io/r/firebase/firepad)
[![Version](https://badge.fury.io/gh/firebase%2Ffirepad.svg)](http://badge.fury.io/gh/firebase%2Ffirepad)

[Firepad](http://www.firepad.io/) is an open-source, collaborative code and text editor. It is
designed to be embedded inside larger web applications. 


### How to compile this project

This project is using some cool libraries for compiling, is called Grunt. Grunt is a well known javascript task runner that is commonly used for handling the minification, obfuscation, etc of a javascript based project. The way its used (in a very basic way) is running the command:

```bash
$ grunt watch
```
And this will be listening for any changes on the javascript and compiling in "real time".

For our jenkins we need to have this command line:
```bash
$ grunt build
```
And this will make the changes to the files:

* `dist/` - Compiled (built) files directory
    * `firepad.js` - non minified file (normally we use this one on invigos for sencha cmd to build it)
    * `firepad.min.js` - this is the minified file
    * `firepad.css` - css file for the editor


### Invigos examples

I created a couple of files so we can have some playground with the editor changes, some of them are only for invigos, others are global for the editor. 

* `examples/` - This has all the examples made by the firepad people (some of them are awesome)
    * `invigos.html` - this is the file that you can run to check the changes (some configs are there as well)
    * `invigos.css` - this is just a dumb css file with some non-important styles


### What's Here

Here are some highlights of the directory structure and notable source files:

* `dist/` - output directory for all files generated by grunt (`firepad.js`, `firepad.min.js`, `firepad.css`, `firepad.eot`).
* `examples/` - examples of embedding Firepad.
* `font/` - icon font used for rich text toolbar.
* `lib/`
    * `firepad.js` - Entry point for Firepad.
    * `text-operation.js`, `client.js` - Heart of the Operation Transformation implementation.  Based on
      [ot.js](https://github.com/Operational-Transformation/ot.js/) but extended to allow arbitrary
      attributes on text (for representing rich-text).
    * `annotation-list.js` - A data model for representing annotations on text (i.e. spans of text with a particular
      set of attributes).
    * `rich-text-codemirror.js` - Uses `AnnotationList` to track annotations on the text and maintain the appropriate
      set of markers on a CodeMirror instance.
    * `firebase-adapter.js` - Handles integration with Firebase (appending operations, triggering retries,
      presence, etc.).
* `test/` - Jasmine tests for Firepad (many of these were borrowed from ot.js).

## Contributing

We love pull requests. If you'd like to contribute to Firepad, run the following commands to get your environment set up:

```bash
$ git clone https://github.com/firebase/firepad.git
$ cd firepad                # go to the geofire directory
$ npm install -g grunt-cli  # globally install grunt task runner
$ npm install -g bower      # globally install Bower package manager
$ npm install               # install local npm build / test dependencies
$ bower install             # install local JavaScript dependencies
$ grunt watch               # watch for source file changes
```

`grunt watch` will watch for changes in the `/lib/` directory and lint, concatenate, and minify the
source files when a change occurs. The output files are written to the `/dist/` directory.

You can run the test suite by navigating to `file:///path/to/firepad/tests/index.html` or via the
command line using `grunt test`.
